{% extends "base.html" %}
{% set _title = "گزارش این آگهی | وینور" %}
{% block title %}{{ _title }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 dark:bg-slate-900">
  <header class="sticky top-0 z-30 bg-white/90 dark:bg-slate-800/90 backdrop-blur border-b dark:border-slate-700">
    <div class="max-w-4xl mx-auto px-3 py-3 flex items-center justify-between">
      <a href="{{ url_for('main.land_detail', code=code) }}" class="w-9 h-9 grid place-items-center rounded-full hover:bg-gray-100 dark:hover:bg-slate-700" aria-label="بازگشت">
        <i class="fa-solid fa-arrow-right"></i>
      </a>
      <div class="flex items-center gap-2">
        <span class="w-9 h-9 grid place-items-center rounded-full bg-rose-600 text-white"><i class="fa-solid fa-flag"></i></span>
        <h1 class="text-base font-bold">گزارش این آگهی</h1>
      </div>
      <div class="w-9"></div>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-3 py-4">
    <div class="bg-gradient-to-br from-rose-50 to-amber-50 dark:from-rose-900/10 dark:to-amber-900/10 border border-rose-200/60 dark:border-rose-800/60 rounded-xl p-4 mb-3">
      <div class="flex items-start gap-3">
        <div class="w-10 h-10 grid place-items-center rounded-full bg-rose-600 text-white">
          <i class="fa-solid fa-shield"></i>
        </div>
        <div class="text-sm text-gray-700 dark:text-gray-200">
          <div class="font-bold">کمک به ایجاد فضای امن‌تر</div>
          <p class="mt-1">لطفاً دلیل گزارش را انتخاب کرده و در صورت نیاز توضیحات تکمیلی بنویسید. تیم پشتیبانی وینور گزارش شما را بررسی می‌کند.</p>
        </div>
      </div>
    </div>

    <form method="post" class="bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-4 space-y-5">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <!-- آگهی هدف -->
      <div class="flex items-start gap-3 text-sm">
        <div class="w-10 h-10 grid place-items-center rounded-lg bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300">
          <i class="fa-solid fa-file-lines"></i>
        </div>
        <div class="flex-1">
          <div class="font-bold">{{ land.get('title') or code }}</div>
          <div class="text-xs text-gray-500">کد آگهی: {{ code }}</div>
        </div>
        <a href="{{ url_for('main.land_detail', code=code) }}" class="text-xs text-emerald-700 dark:text-emerald-300 hover:underline">مشاهده آگهی</a>
      </div>

      <!-- دلیل گزارش -->
      <div>
        <label for="reason" class="block text-sm font-bold mb-2">دلیل گزارش</label>
        <div class="grid sm:grid-cols-2 gap-2 mb-2">
          <div class="px-3 py-2 rounded-lg border border-gray-200 dark:border-slate-600 text-sm text-gray-700 dark:text-gray-300 bg-gray-50/60 dark:bg-slate-700/40">اطلاعات نادرست / جعلی</div>
          <div class="px-3 py-2 rounded-lg border border-gray-200 dark:border-slate-600 text-sm text-gray-700 dark:text-gray-300 bg-gray-50/60 dark:bg-slate-700/40">اسپم / تبلیغاتی</div>
          <div class="px-3 py-2 rounded-lg border border-gray-200 dark:border-slate-600 text-sm text-gray-700 dark:text-gray-300 bg-gray-50/60 dark:bg-slate-700/40">محتوای غیرقانونی</div>
          <div class="px-3 py-2 rounded-lg border border-gray-200 dark:border-slate-600 text-sm text-gray-700 dark:text-gray-300 bg-gray-50/60 dark:bg-slate-700/40">تکراری</div>
        </div>
        <select id="reason" name="reason" class="w-full rounded-xl border-gray-300 dark:border-slate-600 dark:bg-slate-700 text-sm focus:ring-emerald-600">
          <option value="fake">اطلاعات نادرست / جعلی</option>
          <option value="spam">اسپم / تبلیغاتی</option>
          <option value="illegal">محتوای غیرقانونی</option>
          <option value="duplicate">تکراری</option>
          <option value="other">سایر</option>
        </select>
      </div>

      <!-- توضیحات تکمیلی -->
      <div>
        <label for="details" class="block text-sm font-bold mb-2">توضیحات تکمیلی (اختیاری)</label>
        <textarea id="details" name="details" rows="5" class="w-full rounded-xl border-gray-300 dark:border-slate-600 dark:bg-slate-700 text-sm placeholder-gray-400" placeholder="هر توضیحی که به بررسی بهتر کمک می‌کند..."></textarea>
        <p class="mt-1 text-xs text-gray-500">اطلاعات تماس شخصی را وارد نکنید.</p>
      </div>

      <!-- دکمه‌ها -->
      <div class="flex items-center gap-2 pt-2">
        <button type="submit" class="px-4 py-2 rounded-xl text-sm bg-rose-600 hover:bg-rose-700 text-white shadow">ارسال گزارش</button>
        <a href="{{ url_for('main.land_detail', code=code) }}" class="px-4 py-2 rounded-xl text-sm bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600">انصراف</a>
      </div>
    </form>

    <div class="mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-3 text-xs text-blue-800 dark:text-blue-200">
      با ارسال گزارش، محتوای آگهی توسط تیم پشتیبانی بررسی می‌شود. نتیجه بررسی در صورت نیاز از طریق تماس با شما پیگیری خواهد شد.
    </div>
  </main>
</div>
{% endblock %}

{% block floating_action %}{% endblock %}

