<!DOCTYPE html>
<html lang="fa" dir="rtl"
      x-data="{ darkMode: false, sidebarOpen: true }"
      :class="{ 'dark': darkMode }"
      x-init="darkMode = localStorage.getItem('darkMode') === 'true'">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}پنل مدیریت{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            vazir: ["Vazir", "sans-serif"]
          }
        }
      }
    };
  </script>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <!-- فونت -->
  <style>
    body { font-family: 'Vazir', sans-serif; }
  </style>

  {% block head %}{% endblock %}
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 min-h-screen flex transition-all duration-300">

  <!-- سایدبار -->
  {% include 'admin/partials/sidebar.html' %}

  <!-- محتوای اصلی -->
  <main class="flex-1 p-6 pr-72 w-full relative">

    <!-- نوار بالا -->
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-bold text-green-700 dark:text-green-400 flex items-center gap-2">
        {% block page_title %}<i class="fas fa-cog"></i> پنل مدیریت{% endblock %}
      </h1>
      <div class="flex items-center gap-4">
        <!-- دکمه دارک مود -->
        <button @click="darkMode = !darkMode; localStorage.setItem('darkMode', darkMode)"
                class="text-gray-500 hover:text-yellow-400 transition text-xl">
          <i class="fas" :class="darkMode ? 'fa-sun' : 'fa-moon'"></i>
        </button>
        <!-- دکمه نمایش/مخفی کردن سایدبار در موبایل -->
        <button @click="sidebarOpen = !sidebarOpen"
                class="lg:hidden text-gray-500 hover:text-green-500 transition text-xl">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>

    <!-- محتوای داخلی صفحات -->
    {% block content %}{% endblock %}

  </main>

  <!-- Alpine.js -->
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  {% block scripts %}{% endblock %}

</body>
</html>
