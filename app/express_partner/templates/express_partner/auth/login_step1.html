{% extends 'express_partner/base.html' %}
{% block title %}ورود همکار اکسپرس{% endblock %}
{% block content %}

  <!-- Header - سبک دیوار (تمام‌عرض) -->
  <header class="sticky top-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur border-b border-gray-200 dark:border-gray-800 w-full">
    <div class="w-full px-4 h-14 flex items-center justify-between">
      <a href="{{ url_for('main.index') }}" class="w-9 h-9 grid place-items-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700" aria-label="بازگشت">
        <i class="fas fa-arrow-right text-gray-600 dark:text-gray-400"></i>
      </a>
      <h1 class="text-sm font-bold text-gray-900 dark:text-white">ورود</h1>
      <div class="w-9"></div>
    </div>
  </header>

<div class="max-w-6xl mx-auto pt-0 px-4 pb-16">

  <!-- Main Content - سبک دیوار -->
  <div class="mt-8 max-w-md mx-auto">
    
    <!-- Login Card - سبک دیوار -->
    <div class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-6 space-y-6">
      
      <!-- Header -->
      <div class="text-center space-y-2">
        <h2 class="text-lg font-bold text-gray-900 dark:text-white">ورود به پنل همکار اکسپرس</h2>
        <p class="text-sm text-gray-600 dark:text-gray-400">شماره موبایل خود را وارد کنید</p>
      </div>

      <!-- Messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="space-y-2" role="status" aria-live="polite">
            {% for category, msg in messages %}
              <div class="text-sm rounded-lg px-3 py-2 flex items-start gap-2
                          {% if category in ['success', 'ok'] %}
                            bg-emerald-50 dark:bg-emerald-900/20 text-emerald-800 dark:text-emerald-200
                          {% elif category in ['warning'] %}
                            bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200
                          {% elif category in ['info'] %}
                            bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200
                          {% else %}
                            bg-rose-50 dark:bg-rose-900/20 text-rose-800 dark:text-rose-200
                          {% endif %}">
                <i class="fas mt-0.5 flex-shrink-0 text-xs
                          {% if category in ['success', 'ok'] %}fa-check-circle{% elif category in ['warning'] %}fa-exclamation-triangle{% elif category in ['info'] %}fa-info-circle{% else %}fa-times-circle{% endif %}"></i>
                <span class="flex-1">{{ msg|safe }}</span>
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <!-- Form -->
      <form method="POST" action="{{ url_for('express_partner.login') }}" class="space-y-4" novalidate>
        {% if csrf_token %}<input type="hidden" name="csrf_token" value="{{ csrf_token() }}">{% endif %}
        
        <div>
          <label class="block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">شماره موبایل</label>
          <input 
            type="tel" 
            name="phone" 
            required 
            inputmode="numeric" 
            autocomplete="tel" 
            dir="ltr" 
            placeholder="09123456789" 
            class="w-full px-4 py-3 border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors">
        </div>
        
        <button 
          type="submit" 
          class="w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm font-semibold transition-colors">
          ادامه
        </button>
      </form>

    </div>

    <!-- Footer Text -->
    <p class="text-center text-xs text-gray-500 dark:text-gray-400 mt-6">وینور اکسپرس – سریع و حرفه‌ای</p>

  </div>

</div>
{% endblock %}
